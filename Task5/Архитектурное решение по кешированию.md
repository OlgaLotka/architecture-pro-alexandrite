### <a name="_b7urdng99y53"></a>**Название задачи:**  «Архитектурное решение по кешированию»
### <a name="_hjk0fkfyohdk"></a>**Автор:** Лотка О.А.
### <a name="_uanumrh8zrui"></a>**Дата:** 23.08.2025 

### <a name="_u8xz25hbrgql"></a>**  Мотивация **
Реализация кеширования страницы с заказами улучшит пользовательский опыт

### <a name="_u8xz25hbrgql"></a>**  Предлагаемое решение ** 
Внедрить серверное кэширование для страницы с заказами. Потому что заказы у нас прилетают из разных мест и надо чтобы вне зависимости от источника, от менеджера или он клиента, имел актуальное состояние

Шаблон Refresh-Ahead нам подойдет в целевом варианте потому что:

* Для нас важна согласованность данных 
* Низкая стоимость чтения из бд

Проблемой является, что нужен хороший мониторинг, а он появится не сразу. На переходный период можно попробовать Write-Through и посмотреть если сильно медленно не будет обновление бд то можнно так и оставить

Для инвалидации кеша выбран способ по ключу, можно так же выбрать программную инвалидацию
Сравнительный анализ приведен в таблице

| **Временная**                                                                                | **По ключу**                                                                                            | **Программная**                                                                                                                                     | **На запросах**                                               |
|:---------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------|
| Срок действия будет сложно определить так как скорость обработки и изготовления очень разная | Позволяет точно определить что нужно обновлять по ключу, а в нашем случает это в основном статус заказа | Позволяет  обновлять данные в соответствии с логикой, то есть в нашем случае мы сформирует события на основе статусов которые будут обновлять данные | В нашем случае активность пользователей не очень предсказуема |

[Диаграмма последовательности действий](sd.puml)